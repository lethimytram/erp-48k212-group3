<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Course Tree View -->
    <record id="view_training_course_tree" model="ir.ui.view">
        <field name="name">training.course.tree</field>
        <field name="model">training.course</field>
        <field name="arch" type="xml">
            <list string="Kh√≥a h·ªçc" sample="1">
                <field name="sequence" widget="handle"/>
                <field name="code"/>
                <field name="name"/>
                <field name="course_type"/>
                <field name="content_count"/>
                <field name="question_count"/>
                <field name="checklist_count"/>
                <field name="enrollment_count"/>
                <field name="state" widget="badge" decoration-info="state == 'draft'" decoration-warning="state == 'need_planning'" decoration-success="state == 'active'" decoration-muted="state == 'archived'"/>
            </list>
        </field>
    </record>

    <!-- Course Form View -->
    <record id="view_training_course_form" model="ir.ui.view">
        <field name="name">training.course.form</field>
        <field name="model">training.course</field>
        <field name="arch" type="xml">
            <form string="Kh√≥a h·ªçc">
                <header>
                    <button name="action_activate" string="K√≠ch ho·∫°t" type="object" invisible="state == 'active'" class="oe_highlight"/>
                    <button name="action_archive_course" string="L∆∞u tr·ªØ" type="object" invisible="state == 'archived'"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,need_planning,active"/>
                </header>
                <sheet>
                    <widget name="web_ribbon" title="L∆∞u tr·ªØ" bg_color="text-bg-danger" invisible="state != 'archived'"/>
                    <div class="oe_title">
                        <h1>
                            <field name="name" placeholder="T√™n kh√≥a h·ªçc"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="code"/>
                            <field name="course_type"/>
                            <field name="sequence"/>
                        </group>
                        <group>
                            <field name="job_position_ids" widget="many2many_tags"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="N·ªôi dung ƒë√†o t·∫°o" name="content">
                            <field name="content_ids">
                                <form string="N·ªôi dung">
                                    <sheet>
                                        <group>
                                            <group>
                                                <field name="name"/>
                                                <field name="content_type"/>
                                                <field name="sequence"/>
                                            </group>
                                            <group>
                                                <field name="duration"/>
                                            </group>
                                        </group>

                                        <!-- Video URL -->
                                        <group string="Video" invisible="content_type != 'video'">
                                            <field name="video_url" placeholder="https://youtube.com/watch?v=..."/>
                                        </group>

                                        <!-- Upload Files -->
                                        <group string="üìé T√†i li·ªáu ƒë√≠nh k√®m">
                                            <field name="attachment_ids" widget="many2many_binary" nolabel="1"/>
                                        </group>

                                        <!-- Recipe Fields -->
                                        <group string="üç≤ C√¥ng th·ª©c pha ch·∫ø" invisible="content_type != 'recipe'">
                                            <group>
                                                <field name="recipe_ingredients" placeholder="V√≠ d·ª•:\n- Espresso: 30ml\n- S·ªØa: 200ml\n- ƒê∆∞·ªùng: 10g" nolabel="1"/>
                                            </group>
                                        </group>

                                        <group invisible="content_type != 'recipe'">
                                            <field name="recipe_steps" widget="html" placeholder="C√°c b∆∞·ªõc th·ª±c hi·ªán..." nolabel="1"/>
                                        </group>

                                        <!-- Description -->
                                        <group string="üìù M√¥ t·∫£ chi ti·∫øt">
                                            <field name="description" widget="html" placeholder="M√¥ t·∫£ n·ªôi dung..." nolabel="1"/>
                                        </group>
                                    </sheet>
                                </form>
                                <list editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="name"/>
                                    <field name="content_type"/>
                                    <field name="duration"/>
                                </list>
                            </field>
                        </page>
                        <page string="Ng√¢n h√†ng c√¢u h·ªèi" name="questions">
                            <field name="question_ids">
                                <list editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="name"/>
                                    <field name="question_type"/>
                                    <field name="points"/>
                                </list>
                            </field>
                        </page>
                        <page string="Checklist th·ª±c h√†nh" name="checklist">
                            <field name="checklist_ids">
                                <list editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="name"/>
                                    <field name="category"/>
                                    <field name="is_required"/>
                                </list>
                            </field>
                        </page>
                        <page string="Nh√¢n vi√™n c·∫ßn h·ªçc" name="employees">
                            <field name="employee_ids">
                                <list>
                                    <field name="name"/>
                                    <field name="department_id"/>
                                    <field name="job_id"/>
                                    <field name="work_email"/>
                                </list>
                            </field>
                        </page>
                        <page string="C·∫•u h√¨nh ƒë√°nh gi√°" name="config">
                            <group>
                                <group string="L√Ω thuy·∫øt">
                                    <field name="exam_question_count"/>
                                    <field name="exam_duration"/>
                                    <field name="exam_pass_score"/>
                                </group>
                                <group string="Th·ª±c h√†nh">
                                    <field name="practice_pass_percent"/>
                                </group>
                            </group>
                        </page>
                        <page string="M√¥ t·∫£" name="description">
                            <field name="description" widget="html"/>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Course Search View -->
    <record id="view_training_course_search" model="ir.ui.view">
        <field name="name">training.course.search</field>
        <field name="model">training.course</field>
        <field name="arch" type="xml">
            <search string="T√¨m ki·∫øm kh√≥a h·ªçc">
                <field name="name"/>
                <field name="code"/>
                <field name="course_type"/>
                <field name="job_position_ids"/>
                <filter string="Nh√°p" name="draft" domain="[('state', '=', 'draft')]"/>
                <filter string="C·∫ßn l·∫≠p k·∫ø ho·∫°ch" name="need_planning" domain="[('state', '=', 'need_planning')]"/>
                <filter string="ƒêang ho·∫°t ƒë·ªông" name="active" domain="[('state', '=', 'active')]"/>
                <filter string="L∆∞u tr·ªØ" name="archived" domain="[('state', '=', 'archived')]"/>
                <group expand="0" string="Nh√≥m theo">
                    <filter string="Lo·∫°i kh√≥a h·ªçc" name="group_type" context="{'group_by': 'course_type'}"/>
                    <filter string="Tr·∫°ng th√°i" name="group_state" context="{'group_by': 'state'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Course Action -->
    <record id="action_training_course" model="ir.actions.act_window">
        <field name="name">Kh√≥a h·ªçc</field>
        <field name="res_model">training.course</field>
        <field name="view_mode">list,form</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                T·∫°o kh√≥a h·ªçc ƒë√†o t·∫°o m·ªõi
            </p>
            <p>
                Kh·ªüi t·∫°o kh√≥a h·ªçc v·ªõi n·ªôi dung, c√¢u h·ªèi thi v√† checklist th·ª±c h√†nh.
            </p>
        </field>
    </record>

</odoo>
