<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Email Template for Training Reminder -->
    <record id="email_template_training_reminder" model="mail.template">
        <field name="name">Training: Reminder Notification</field>
        <field name="model_id" ref="model_training_reminder"/>
        <field name="subject">{{ object.name }}</field>
        <field name="email_from">{{ (object.company_id.email or user.email) }}</field>
        <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; font-family:Verdana, Arial,sans-serif; color: #555555; width: 100%; border-collapse:separate;">
                    <tbody>
                        <tr>
                            <td align="center">
                                <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: white; color: #555555; border-collapse:separate;">
                                    <tbody>
                                        <!-- HEADER -->
                                        <tr>
                                            <td align="center" style="min-width: 590px;">
                                                <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; padding: 0px 8px 0px 8px; border-collapse:separate;">
                                                    <tr>
                                                        <td valign="middle">
                                                            <span style="font-size: 20px; font-weight: bold; color: #875A7B;">
                                                                üîî Nh·∫Øc nh·ªü ƒë√†o t·∫°o
                                                            </span>
                                                        </td>
                                                        <td valign="middle" align="right">
                                                            <img style="padding: 0px; margin: 0px; height: auto; width: 80px;" src="/logo.png" alt="{{ object.company_id.name }}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2" style="text-align:center;">
                                                            <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0; margin: 16px 0px 16px 0px;"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <!-- CONTENT -->
                                        <tr>
                                            <td align="center" style="min-width: 590px;">
                                                <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; padding: 0px 8px 0px 8px; border-collapse:separate;">
                                                    <tr>
                                                        <td valign="top" style="font-size: 13px;">
                                                            <div>
                                                                {{ object.message | safe }}
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="text-align:center; padding-top: 16px;">
                                                            <div t-if="object.session_id">
                                                                <a href="/web#id={{ object.session_id.id }}&amp;model=training.session&amp;view_type=form" style="padding: 5px 10px; font-size: 12px; line-height: 18px; color: #FFFFFF; border-color:#875A7B; text-decoration: none; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; white-space: nowrap; background-image: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius: 3px;">
                                                                    Xem bu·ªïi h·ªçc
                                                                </a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <!-- FOOTER -->
                                        <tr>
                                            <td align="center" style="min-width: 590px;">
                                                <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; font-size: 11px; padding: 0px 8px 0px 8px; border-collapse:separate;">
                                                    <tr>
                                                        <td valign="middle" align="left">
                                                            {{ object.company_id.name }}
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="middle" align="left" style="opacity: 0.7;">
                                                            {{ object.company_id.phone }}
                                                            <t t-if="object.company_id.email">
                                                                |                                                                <a href="'mailto:%s' % {{ object.company_id.email }}" style="text-decoration:none; color: #555;">{{ object.company_id.email }}</a>
                                                            </t>
                                                            <t t-if="object.company_id.website">
                                                                |                                                                <a href="{{ object.company_id.website }}" style="text-decoration:none; color: #555;">
                                                                    {{ object.company_id.website }}
                                                                </a>
                                                            </t>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- Cron Job: Send Pending Reminders -->
    <record id="ir_cron_send_training_reminders" model="ir.cron">
        <field name="name">Training: Send Pending Reminders</field>
        <field name="model_id" ref="model_training_reminder"/>
        <field name="state">code</field>
        <field name="code">model._cron_send_pending_reminders()</field>
        <field name="interval_number">1</field>
        <field name="interval_type">hours</field>
        <field name="active" eval="True"/>
    </record>

    <!-- Default Reminder Templates -->
    <record id="reminder_template_session_1day" model="training.reminder.template">
        <field name="name">Nh·∫Øc nh·ªü bu·ªïi h·ªçc (1 ng√†y tr∆∞·ªõc)</field>
        <field name="reminder_type">session</field>
        <field name="days_before">1</field>
        <field name="subject">Nh·∫Øc nh·ªü: Bu·ªïi h·ªçc {session_name} di·ªÖn ra v√†o ng√†y mai</field>
        <field name="message_template" type="html">
            <div>
                <p>K√≠nh g·ª≠i Anh/Ch·ªã,</p>
                <p>
                    <strong>Nh·∫Øc nh·ªü:</strong> Bu·ªïi h·ªçc <strong>{session_name}</strong> s·∫Ω di·ªÖn ra v√†o ng√†y mai.</p>
                <ul>
                    <li>
                        <strong>Kh√≥a h·ªçc:</strong> {course_name}</li>
                    <li>
                        <strong>Th·ªùi gian:</strong> {date}</li>
                    <li>
                        <strong>ƒê·ªãa ƒëi·ªÉm:</strong> {location}</li>
                </ul>
                <p>Vui l√≤ng chu·∫©n b·ªã v√† tham gia ƒë√∫ng gi·ªù.</p>
                <p>Tr√¢n tr·ªçng,</p>
            </div>
        </field>
        <field name="send_email" eval="True"/>
        <field name="send_notification" eval="True"/>
        <field name="active" eval="True"/>
    </record>

    <record id="reminder_template_session_1week" model="training.reminder.template">
        <field name="name">Nh·∫Øc nh·ªü bu·ªïi h·ªçc (1 tu·∫ßn tr∆∞·ªõc)</field>
        <field name="reminder_type">session</field>
        <field name="days_before">7</field>
        <field name="subject">Nh·∫Øc nh·ªü: Bu·ªïi h·ªçc {session_name} di·ªÖn ra trong tu·∫ßn t·ªõi</field>
        <field name="message_template" type="html">
            <div>
                <p>K√≠nh g·ª≠i Anh/Ch·ªã,</p>
                <p>
                    <strong>Th√¥ng b√°o:</strong> Bu·ªïi h·ªçc <strong>{session_name}</strong> s·∫Ω di·ªÖn ra trong tu·∫ßn t·ªõi.</p>
                <ul>
                    <li>
                        <strong>Kh√≥a h·ªçc:</strong> {course_name}</li>
                    <li>
                        <strong>Th·ªùi gian:</strong> {date}</li>
                    <li>
                        <strong>ƒê·ªãa ƒëi·ªÉm:</strong> {location}</li>
                </ul>
                <p>Vui l√≤ng s·∫Øp x·∫øp l·ªãch v√† chu·∫©n b·ªã t√†i li·ªáu c·∫ßn thi·∫øt.</p>
                <p>Tr√¢n tr·ªçng,</p>
            </div>
        </field>
        <field name="send_email" eval="True"/>
        <field name="send_notification" eval="False"/>
        <field name="active" eval="True"/>
    </record>

</odoo>
